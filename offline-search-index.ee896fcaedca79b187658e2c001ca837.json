



































































































[{"body":"","categories":["AWS","教學文件","新手教學"],"description":"","excerpt":"","ref":"/docs/","tags":["AWS","教學文件","新手教學"],"title":"教學文件"},{"body":"需求  Linux, OS X, or Unix\n  Python 2 version 2.6.5+ or Python 3 version 3.3+\n 檢查 Python 版本\npython --version 安裝 $ curl \"https://s3.amazonaws.com/aws-cli/awscli-bundle.zip\" -o \"awscli-bundle.zip\" $ unzip awscli-bundle.zip $ sudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws 參考資料  Installing the AWS Command Line Interface - AWS Command Line Interface  ","categories":["AWS","教學文件","新手教學","EC2","CLI"],"description":"AWS CLI","excerpt":"AWS CLI","ref":"/docs/ec2/cli/","tags":["AWS","教學文件","新手教學","EC2","CLI"],"title":"CLI"},{"body":"要增加 EC2 的硬碟空間，可以直接修改 Elastic Volume 的大小，並在主機內下指令即可立即變更硬碟空間大小\n1. 從 EC2 找出 Elastic Volume\n2. 修改 Elastic Volume 大小\n3. 檢視目前硬碟空間配置\n修改完 Elastic Volume 後，使用 df -h 可以看到目前的硬碟空間還是沒有變的\n$ df -h Filesystem Size Used Avail Use% Mounted on udev 992M 0 992M 0% /dev tmpfs 200M 14M 187M 7% /run /dev/xvda1 49G 36G 14G 73% / tmpfs 1000M 0 1000M 0% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock tmpfs 1000M 0 1000M 0% /sys/fs/cgroup /dev/loop0 18M 18M 0 100% /snap/amazon-ssm-agent/1068 /dev/loop1 18M 18M 0 100% /snap/amazon-ssm-agent/930 /dev/loop2 92M 92M 0 100% /snap/core/6531 /dev/loop3 90M 90M 0 100% /snap/core/6673 /dev/loop4 91M 91M 0 100% /snap/core/6405 /dev/loop5 17M 17M 0 100% /snap/amazon-ssm-agent/784 tmpfs 200M 0 200M 0% /run/user/1001 tmpfs 200M 0 200M 0% /run/user/1003 tmpfs 200M 0 200M 0% /run/user/1010 tmpfs 200M 0 200M 0% /run/user/1002 使用 lsblk 可以看到 xvda 的空間已經變成我們修改的 100G 了，但目前還無法使用\n xvda 202:0 0 100G 0 disk\n  `-xvda1 202:1 0 50G 0 part /\n $ lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT xvda 202:0 0 100G 0 disk `-xvda1 202:1 0 50G 0 part / loop0 7:0 0 17.9M 1 loop /snap/amazon-ssm-agent/1068 loop1 7:1 0 18M 1 loop /snap/amazon-ssm-agent/930 loop2 7:2 0 91.1M 1 loop /snap/core/6531 loop3 7:3 0 89.3M 1 loop /snap/core/6673 loop4 7:4 0 91M 1 loop /snap/core/6405 loop5 7:5 0 16.5M 1 loop /snap/amazon-ssm-agent/784 4. 擴展可用的硬碟空間配置\n使用 sudo growpart /dev/xvda 1 擴展可用的硬碟空間配置\n$ sudo growpart /dev/xvda 1 [sudo] password for kejyun: CHANGED: partition=1 start=2048 old: size=104855519 end=104857567 new: size=209713119,end=209715167 擴展後可以看到目前的可用空間已經擴展至 100 G 了\n xvda 202:0 0 100G 0 disk\n  `-xvda1 202:1 0 100G 0 part /\n $ lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT xvda 202:0 0 100G 0 disk `-xvda1 202:1 0 100G 0 part / loop0 7:0 0 17.9M 1 loop /snap/amazon-ssm-agent/1068 loop1 7:1 0 18M 1 loop /snap/amazon-ssm-agent/930 loop2 7:2 0 91.1M 1 loop /snap/core/6531 loop3 7:3 0 89.3M 1 loop /snap/core/6673 loop4 7:4 0 91M 1 loop /snap/core/6405 loop5 7:5 0 16.5M 1 loop /snap/amazon-ssm-agent/784 5. 重新配置可用的硬碟空間\n使用 sudo resize2fs /dev/xvda1 指令重新配置可用的硬碟空間\n$ sudo resize2fs /dev/xvda1 resize2fs 1.42.13 (17-May-2015) Filesystem at /dev/xvda1 is mounted on /; on-line resizing required old_desc_blocks = 4, new_desc_blocks = 7 The filesystem on /dev/xvda1 is now 26214139 (4k) blocks long. 重新配置完成後，可以看到 /dev/xvda1 的空間已經變成 100G 了\n /dev/xvda1 97G 36G 62G 37% /\n $ df -h Filesystem Size Used Avail Use% Mounted on udev 992M 0 992M 0% /dev tmpfs 200M 14M 187M 7% /run /dev/xvda1 97G 36G 62G 37% / tmpfs 1000M 0 1000M 0% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock tmpfs 1000M 0 1000M 0% /sys/fs/cgroup /dev/loop0 18M 18M 0 100% /snap/amazon-ssm-agent/1068 /dev/loop1 18M 18M 0 100% /snap/amazon-ssm-agent/930 /dev/loop2 92M 92M 0 100% /snap/core/6531 /dev/loop3 90M 90M 0 100% /snap/core/6673 /dev/loop4 91M 91M 0 100% /snap/core/6405 /dev/loop5 17M 17M 0 100% /snap/amazon-ssm-agent/784 tmpfs 200M 0 200M 0% /run/user/1001 tmpfs 200M 0 200M 0% /run/user/1003 tmpfs 200M 0 200M 0% /run/user/1010 tmpfs 200M 0 200M 0% /run/user/1002 參考資料  Increasing your EC2 Volume Size | Amimoto Help Center  ","categories":["AWS","教學文件","新手教學","EC2","Volume 硬碟","增加 EC2 硬碟空間"],"description":"AWS Volume 硬碟，增加 EC2 硬碟空間","excerpt":"AWS Volume 硬碟，增加 EC2 硬碟空間","ref":"/docs/ec2/volume/increasing-size/","tags":["AWS","教學文件","新手教學","EC2","Volume 硬碟","增加 EC2 硬碟空間"],"title":"增加 EC2 硬碟空間"},{"body":"資料庫連線數量 RDS Database Connections Limit RDS 連線數量是依照主機的記憶體大小限制最大數量，如果有需要更多的連線數量，則需要加開機器去增加連線數量。\nAWS Aurora MySQL\n Aurora MySQL max_connections limit 最大連線數量限制: GREATEST({log(DBInstanceClassMemory/805306368)*45},{log(DBInstanceClassMemory/8187281408)*1000})\n    實例類型 (Instance Class) 連線數量限制 (max_connections Default Value)     db.t2.small 45   db.t2.medium 90   db.r3.large 1000   db.r3.xlarge 2000   db.r3.2xlarge 3000   db.r3.4xlarge 4000   db.r3.8xlarge 5000   db.r4.large 1000   db.r4.xlarge 2000   db.r4.2xlarge 3000   db.r4.4xlarge 4000   db.r4.8xlarge 5000   db.r4.16xlarge 6000    AWS Aurora PostgreSQL\n Aurora PostgreSQL max_connections limit 最大連線數量限制: LEAST({DBInstanceClassMemory/9531392},5000)\n    實例類型 (Instance Class) 連線數量限制 (max_connections Default Value)     db.r4.large 1600   db.r4.xlarge 3200   db.r4.2xlarge 5000   db.r4.4xlarge 5000   db.r4.8xlarge 5000   db.r4.16xlarge 5000    參考資料\n Too many connections on AWS Aurora db.t2.medium database - Atlassian Documentation 管理 Amazon Aurora MySQL - Amazon Relational Database Service mysql - Highest value of max_connections in AWS RDS micro instance - Server Fault Should I increase max_connections in AWS RDS t1-micro for MySQL? - Database Administrators Stack Exchange AWS RDS 在各 instance type 的 max_connections 的定義 | Mr. 沙先生  ","categories":["AWS","教學文件","新手教學","RDS","Relational Database Service","實例限制"],"description":"AWS RDS (Relational Database Service) 實例限制","excerpt":"AWS RDS (Relational Database Service) 實例限制","ref":"/docs/rds/instance-limit/","tags":["AWS","教學文件","新手教學","RDS","Relational Database Service","實例限制"],"title":"實例限制"},{"body":"參考資料  Understanding Your Usage with Billing Reports - AWS Billing and Cost Management  ","categories":["AWS","教學文件","新手教學","帳單","Billing"],"description":"AWS 帳單","excerpt":"AWS 帳單","ref":"/docs/bill/","tags":["AWS","教學文件","新手教學","帳單","Billing"],"title":"帳單"},{"body":"建立設定檔 Auto Scaling / Launch Configurations / Create launch configuration\n選擇自己的 AMI 映像檔 選擇機器類型 設定細節 設定設定檔名稱 若有選擇用 Spot Instance 的話，則需要設定最大出價價格（上方為目前的 spot instance 目前價格）\n設定儲存空間 設定 Security Group 通常會設定 22 (SSH)、80 (HTTP) 與 443 (HTTPS)\n建立 Auto Scaling Group Auto Scaling / Auto Scaling Groups / Create Auto Scaling group\n選擇設定檔 建立 Group 建立 Scaling 條件 設定 Scaling 的機器在哪些 Load Balancer 下面 ","categories":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展","建立"],"description":"AWS Auto Scaling 自動擴展建立","excerpt":"AWS Auto Scaling 自動擴展建立","ref":"/docs/ec2/auto-scaling/create/","tags":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展","建立"],"title":"建立"},{"body":"選擇建立類型 在 Load Balancer 頁面點選 Create Load Balancer\n定義  Load Balancer name : Load Balancer 名稱 Listener Configuration : Listen 的 port Select Subnets: 選擇允許的子網路遮罩  Security Group 建立 Load Balancer 的 Security Group 通常開放 80 (HTTP) 與 443 (HTTPS) 即可\n設定機器狀態檢查網址 手動設定 EC2 機器 將指定的機器加入到 Load Balancer Instance 清單中 若沒有機器的話，可以使用 Auto Scaling 的方式自動加入該機器\n","categories":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","建立"],"description":"AWS Load Balancer 負載平衡建立","excerpt":"AWS Load Balancer 負載平衡建立","ref":"/docs/ec2/load-balancer/create/","tags":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","建立"],"title":"建立"},{"body":"複製本機檔案至 S3 aws s3 cp \"本機檔案路徑\" \"S3 目錄路徑\" aws s3 cp /home/kejyun/web.tar.gz s3://kj-bucket-name/my/folder/ 複製 S3 檔案至本機 aws s3 cp \"S3 檔案路徑\" \"本機目錄\" aws s3 cp s3://kj-bucket-name/my/folder/web.tar.gz /home/kejyun/ 參考資料  如何以指令碼將檔案備份到 Amazon S3 – AWS  ","categories":["AWS","教學文件","新手教學","S3","Simple Storage Service","CLI"],"description":"AWS S3 (Simple Storage Service) CLI","excerpt":"AWS S3 (Simple Storage Service) CLI","ref":"/docs/s3/cli/","tags":["AWS","教學文件","新手教學","S3","Simple Storage Service","CLI"],"title":"CLI"},{"body":"","categories":["AWS","教學文件","新手教學","EC2"],"description":"AWS EC2 指南","excerpt":"AWS EC2 指南","ref":"/docs/ec2/","tags":["AWS","教學文件","新手教學","EC2"],"title":"EC2"},{"body":"AWS Redis Cluster AWS 群集模式參考架構（來源：AWS）\nCluster Mode Enable 啟用群集模式\n將同一個資料做不同的分片（Shared），而不同的分片會有自己的備援（Replica）\nCluster Mode Disable 禁用群集模式\n同一個資料僅有一個分片，自己的分片可以建立自己的備援（Replica）\nAWS Redis Cluster Mode Enable 啟用群集模式 建立 Redis AWS Cluster Mode Enable 群集 建立 AWS Cluster Mode Enable 群集，將「Cluster Mode enabled」打勾，在下方的「Number of Shareds」設定資料分片數量，以及在「Replicas per Shared」設定每個分片數量要有幾個備援。\n取得群集端點（Configuration Endpoint） 建立完群集之後，在列表中取得群集端點（Configuration Endpoint）。\n群集分片 建立完後會看到君集裡面有群集分片，分別去放置不同資料位置的資料。\n新增群集分片 群集分片可以隨自己的主機負載狀況去做新增，在新增時主機會呈現 modifying 的狀態，在新增修改分片期間，Redis 還是能夠正常的被存取，不會受到影響。\n在新增群集分片完成後，資料群集分片會再被切割。\n移除群集分片 群集分片可以隨時的移除。\n在移除後，原本的資料群集分片資料，會再被統整合併到現有的群集內。\n移除群集分片後再加入新分片節點 移除群集分片後再加入新分片節點後，會看到新增的群集會再去重新分配現有的群集分片資料\nAWS Redis Cluster Mode Disable 禁用群集模式 建立 Redis AWS Cluster Mode Disable 群集 建立 AWS Cluster Mode Disabled 群集，將「Cluster Mode enabled」取消勾選，以及在「Number of replicas」設定要有幾個備援節點。\n取得群集端點（Primary Endpoint） 建立完群集之後，在列表中取得群集端點（Primary Endpoint）。 群集端點（Nodes） 在群集內可以看到有主要群集端點（Primary）跟備援群集端點（Replica），備援群集端點（Replica）的資料跟主群集端點（Primary）一樣，只是會做到讀寫分離。\n建立新群集端點 備援群集端點（Replica）可以隨機器狀況調整隨時新增刪除去調整。\n參考資料  复制：Redis (已禁用集群模式) 与 Redis (已启用集群模式) - Amazon ElastiCache 选择引擎：Memcached、Redis (已禁用集群模式) 或 Redis (已启用集群模式) - Amazon ElastiCache  ","categories":["AWS","教學文件","新手教學","ElastiCache","Redis"],"description":"AWS ElastiCache Redis","excerpt":"AWS ElastiCache Redis","ref":"/docs/elasticache/redis/","tags":["AWS","教學文件","新手教學","ElastiCache","Redis"],"title":"Redis"},{"body":"T2 Instance CPU Credit 參考資料  CPU 积分和基准性能 - Amazon Elastic Compute Cloud  T2 Unlimited 在使用 T2 EC2 主機時，會有 CPU credit 的問題，當 CPU Credit 使用完時，主機會進入無法進行運算的狀態，AWS 使用 T2 Unlimited 的方式，讓我們可以預支未來 24 小時的 CPU Credit 給目前繁忙的主機運算使用，但當可以預支的 CPU Credit 預支完時，AWS 會依照 vCPU 運算資源去做收費 $0.05 / hour per vCPU\n   T2 類型 vCPU Over T2 limit 價格 On-demand 價格     t2.nano 1 $0.05 / hour $0.0076 / hour   t2.micro 1 $0.05 / hour $0.0152 / hour   t2.small 1 $0.05 / hour $0.0304 / hour   t2.medium 2 $0.1 / hour $0.0608 / hour   t2.large 2 $0.1 / hour $0.1216 / hour   t2.xlarge 4 $0.2 / hour $0.2432 / hour   t2.2xlarge 8 $0.4 / hour $0.4864 / hour    參考資料  爆量效能執行個體的 CPU 點數與基準使用率 - Amazon Elastic Compute Cloud 監控您的 CPU 點數 - Amazon Elastic Compute Cloud T2 无限 - Amazon Elastic Compute Cloud 使用 T2 实例 - Amazon Elastic Compute Cloud EC2 執行個體定價 – Amazon Web Services (AWS)  ","categories":["AWS","教學文件","新手教學","EC2","Instance","實例"],"description":"AWS Instance 實例","excerpt":"AWS Instance 實例","ref":"/docs/ec2/instance/","tags":["AWS","教學文件","新手教學","EC2","Instance","實例"],"title":"Instance 實例"},{"body":"AWS Load Balancer Stickiness 在 AWS Load Balancer 中可以看到 Stickness 的設定，開啟 Stickness 表示 Load Balancer 會針對同一個使用者的請求，會使用指向同一台 EC2 機器。\nClassic Load Balancer 在 Stickness 設定視窗中你會看到有三個設定方式\n Disable stickiness Enable load balancer generated cookie stickiness Enable application generated cookie stickiness  Stickness 設定方式 「Load Balancer」與「application generated」設定方式的差異分別如下\nEnable Load Balancer Generated Cookie Stickiness Load Balancer 會自己加入一個自己的 Cookie 資訊到瀏覽器，並設定 Cookie 的失效時間，Load Balancer 會自行控制該 Cookie 的狀況\nEnable application generated cookie stickiness Load Balancer 會針對使用者自己網站的 cookie，去分配流量到機器的狀況，由使用者自己網站的應用程式自行去控制 Cookie 的過期時間，所以需要自行設定網站 cookie 的名稱。\nApplication Load Balancer 在 Target Group 選擇 Description 頁籤，在下方的 Stickiness 點選 Edit attributes 按鈕\n在設定視窗設定 Stickiness 的時間即可\n參考資料  amazon ec2 - EC2 load balancer - difference between “Load Balancer” and “Application” Generated Cookie Stickiness - Server Fault New Elastic Load Balancing Feature: Sticky Sessions | AWS News Blog Configure Sticky Sessions for Your Classic Load Balancer - Elastic Load Balancing Target Groups for Your Application Load Balancers - Elastic Load Balancing  ","categories":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","Stickiness"],"description":"AWS Load Balancer 負載平衡 Stickiness","excerpt":"AWS Load Balancer 負載平衡 Stickiness","ref":"/docs/ec2/load-balancer/stickiness/","tags":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","Stickiness"],"title":"Stickiness"},{"body":"建立資料庫 Snapshot 是否會影響正式機器運作？ 不會\n建立 Auto scaling replica 副本前置作業 需要先手動建立自己的 replica 副本，讓 Auto scaling 自動偵測 DB cluster 的 replica reader 的數據（CPU %, DB connection），去做自動擴展\nauto scaling replica 不會刪除手動建立的 replica\n手動建立 replica 副本是否會影響正式機器運作？ 不會，所以儘管正式 RDS 正在運作，隨時可以手動建立 replica，不會影響服務運行\n使用 ab test 測試 writer 及 reader，是否 AWS 會使用 writer 機器來當作讀取用？ 不會\n故障轉移（Failover）使用方式 執行故障轉移時，AWS 會針對 cluster 中所有機器的 Failover priority 優先順序，選擇 priority 中，目前運轉正常的機器，所以不管對哪一台機器做 Failover，則都會對目前所有機器（排除當前的 writer 機器）去做故障轉移。\nhttps://docs.aws.amazon.com/zh_cn/AmazonRDS/latest/UserGuide/CHAP_Troubleshooting.html\n在有 replica reader 下，刪除 writer 機器的狀況會怎樣？ writer 機器會 Failover 到其他機器，然後再將機器刪除，但機器刪除時，會有短暫的連不到資料庫的狀態\nAutoScaling 開的機器與手動開的機器有何不同？ Auto Scaling 開的機器會顯示「application-autoscaling-一串編碼」的名稱及 endpoint，Auto Scaling 不會關閉手動開的 replica 機器。\nAutoScaling Cloudwatch 是否需要設定？ 不需要，僅需要指定要偵測的數值，AWS 會盡量將數值維持在指定的數值內，當高於該數值就會自動開啟機器，低於該數值就會關閉機器。\n","categories":["AWS","教學文件","新手教學","RDS","Relational Database Service","情境問題"],"description":"AWS RDS (Relational Database Service) 情境問題","excerpt":"AWS RDS (Relational Database Service) 情境問題","ref":"/docs/rds/scenario-question/","tags":["AWS","教學文件","新手教學","RDS","Relational Database Service","情境問題"],"title":"情境問題"},{"body":"Placing Spot instance request 在做 Auto Scaling 時，機器會一直不段的開開關關，且顯示 Placing Spot instance request 的訊息，這個是表示 Scaling Policies 規則中，Scale-up 與 Scale-down 的規則相互有衝突導致，此時必須要檢查一下規則是否有設定錯誤。\nPlacing Spot instance request. Status Reason: Spot instance request: sir-bcpgayih has been cancelled. Group size decreased while waiting for Spot instance request to be fulfilled. At 2017-10-26T07:53:21Z a monitor alarm CPU Too Low in state ALARM triggered policy CPU Too Low changing the desired capacity from 2 to 1. At 2017-10-26T07:54:04Z a monitor alarm CPU Credit Too Low in state ALARM triggered policy CPU Credit Too Low changing the desired capacity from 1 to 2. At 2017-10-26T07:54:14Z a difference between desired and actual capacity changing the desired capacity, increasing the capacity from 1 to 2. 參考資料  AWS Developer Forums: Some spot requests for Auto Scale group …  ","categories":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展","規則","Rule"],"description":"AWS Auto Scaling 自動擴展規則","excerpt":"AWS Auto Scaling 自動擴展規則","ref":"/docs/ec2/auto-scaling/rule/","tags":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展","規則","Rule"],"title":"規則"},{"body":"建立可以存取 S3 Bucket 的 ARN 權限\n到 AWS Policy Generator 產生可以存取 S3 的權限 Policy\nEffect 選擇 Allow\nPrincipal 填寫所在區域的 Elastic Load Balancing Account ID，像在東京就填寫 582318560864，詳細 id 範例如下\nAWS Service 選擇 Amazon S3\nAction 選擇指定權限\nAmazon Resource Name (ARN) 填寫的樣式會像是\narn:aws:s3:::bucket/prefix/AWSLogs/aws-account-id/* bucket/prefix/AWSLogs 填寫允許存取哪一個 bucket 路徑即可，範例會像是\narn:aws:s3:::kejyun-bucket/ec2-alb-web/* 表示在 Bucket kejyun-bucket 下的 ec2-alb-web 目錄可以存取\n完成後點選 Generate Policy 按鈕即可產生 Policy\n產生完的 Policy 會像是\n{ \"Id\": \"Policy1561544116661\", \"Version\": \"2012-10-17\", \"Statement\": [ { \"Sid\": \"Stmt1561542985535\", \"Action\": [ \"s3:PutObject\" ], \"Effect\": \"Allow\", \"Resource\": \"arn:aws:s3:::kejyun-bucket/ec2-alb-web/*\", \"Principal\": { \"AWS\": [ \"582318560864\" ] } } ] } 之後到 AWS S3 Bucket 選擇 Permissions 頁籤，點選 Bucket Policy，將產生的 Policy 貼到下方儲存即可\n參考資料  Access Logs for Your Application Load Balancer - Elastic Load Balancing AWS Policy Generator Your AWS Account ID and Its Alias - AWS Identity and Access Management  ","categories":["AWS","教學文件","新手教學","S3","Simple Storage Service","ARN Policy"],"description":"AWS S3 (Simple Storage Service) ARN Policy","excerpt":"AWS S3 (Simple Storage Service) ARN Policy","ref":"/docs/s3/arn-policy/","tags":["AWS","教學文件","新手教學","S3","Simple Storage Service","ARN Policy"],"title":"ARN Policy"},{"body":"說明 Load Balancer 的 Access Log 存放在 S3，在啟用 Access Log 時，必須授權給 Load Balancer 有存取 S3 的權限\n授權 Load Balancer 存取 S3 權限 AWS Policy Generator\n Select Type of Policy: 選擇 S3 Bucket Policy Effect: 選擇 Allow Principal: 輸入所屬區域 Elastic Load Balancing 帳戶編號，若允許多個則使用逗號分格（,） Actions: 選擇 PutObject Amazon Resource Name (ARN): arn:aws:s3:::bucket/prefix/AWSLogs/aws-account-id/*   aws-account-id 輸入自己 AWS 帳號編號，在 AWS Support 右上方可以看到自己的 Account Number\n  點選 Generate Policy 產生 Policy  設定 S3 權限  進入 S3 選擇 Log 的 bucket，點選右上方 Properties 頁籤 在 Permissions 區塊點選 Edit Bucket Policy，將剛剛產生的 policy 貼上並儲存即可  參考資料  为负载均衡器启用访问日志 - Elastic Load Balancing Classic负载均衡器的访问日志 - Elastic Load Balancing AWS Policy Generator AWS Support  ","categories":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","Access Log"],"description":"AWS Load Balancer 負載平衡 Access Log","excerpt":"AWS Load Balancer 負載平衡 Access Log","ref":"/docs/ec2/load-balancer/access-log/","tags":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","Access Log"],"title":"Access Log"},{"body":"","categories":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡"],"description":"AWS Load Balancer 負載平衡","excerpt":"AWS Load Balancer 負載平衡","ref":"/docs/ec2/load-balancer/","tags":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡"],"title":"Load Balancer"},{"body":"在監控 Auto Scaling Group 時會看不到想要監控的數據，而下面會顯示警告\n Group Metrics Collection is not enabled for the following Auto Scaling groups:\n 此時若想要看到此監控的數據，可以點選上方的 Enable Group Metrics Collection 連結，即可啟用數據監控，在 Cloudwatch 那邊看到資料了\n參考資料  Monitoring Your Auto Scaling Groups and Instances Using Amazon CloudWatch - Amazon EC2 Auto Scaling  ","categories":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展","Monitoring","監控"],"description":"AWS Auto Scaling 自動擴展Monitoring","excerpt":"AWS Auto Scaling 自動擴展Monitoring","ref":"/docs/ec2/auto-scaling/monitoring/","tags":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展","Monitoring","監控"],"title":"Monitoring"},{"body":"Aurora 查詢 Aurora 版本 MySQL\nselect AURORA_VERSION(); select @@aurora_version; PostgreSQL\nSELECT AURORA_VERSION(); 參考資料  使用適合 Amazon RDS 資料庫執行個體的儲存體 - Amazon Relational Database Service Amazon RDS 資料庫執行個體儲存體 - Amazon Relational Database Service Amazon Aurora 概述 - Amazon Relational Database Service 利用Mycat中间件实现RDS MySQL的分库分表及读写分离功能 | 亚马逊AWS官方博客 Amazon Aurora MySQL Database Engine Updates - Amazon Relational Database Service Amazon Aurora MySQL 2.0 Database Engine Updates - Amazon Relational Database Service  ","categories":["AWS","教學文件","新手教學","RDS","Relational Database Service"],"description":"AWS RDS (Relational Database Service) 指南","excerpt":"AWS RDS (Relational Database Service) 指南","ref":"/docs/rds/","tags":["AWS","教學文件","新手教學","RDS","Relational Database Service"],"title":"RDS"},{"body":"","categories":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展"],"description":"AWS Auto Scaling 自動擴展","excerpt":"AWS Auto Scaling 自動擴展","ref":"/docs/ec2/auto-scaling/","tags":["AWS","教學文件","新手教學","EC2","Auto Scaling","自動擴展"],"title":"Auto Scaling"},{"body":"AWS Certificate Manager  透過 AWS Certificate Manager 佈建的公有 SSL/TLS 憑證無須付費。您只需支付為執行應用程式而建立的 AWS 資源的費用。\n 公有憑證  成功驗證憑證請求中的網域名稱擁有權或控制權之後，就會發行 SSL/TLS 憑證。您可以部署此憑證以用於 Elastic Load Balancers、Amazon CloudFront 分發或 Amazon API Gateway 上的 API。只要從 AWS 管理主控台的下拉式清單中選取所需的 SSL/TLS 憑證即可\n 公有憑證使用地方\n Elastic Load Balancers Amazon CloudFront Amazon API Gateway  建立公有憑證 請求憑證 設定憑證網址 設定憑證網址驗證方式  DNS 驗證 Email 驗證  下載網址驗證資料 下載 csv 檔案，將其中的 CNAME DNS 設定到你的網域，過幾分鐘即可驗證成功\n變更 Load Balancer SSL 憑證 在 Listeners tab 中的 HTTPS 可以選擇憑證類型，選擇剛剛建立驗證成功的憑證即可。\n參考資料  AWS Certificate Manager 定價 AWS Certificate Manager 入門 AWS Certificate Manager 常見問題 AWS Certificate Manager Load Balancer Certificate Replace the SSL Certificate for Your Classic Load Balancer - Elastic Load Balancing  ","categories":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","SSL"],"description":"AWS Load Balancer 負載平衡 SSL","excerpt":"AWS Load Balancer 負載平衡 SSL","ref":"/docs/ec2/load-balancer/ssl/","tags":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","SSL"],"title":"SSL"},{"body":"Cloudfront CDN 加速  Amazon S3 Transfer Acceleration Speed Comparison  ","categories":["AWS","教學文件","新手教學","S3","Simple Storage Service"],"description":"AWS S3 (Simple Storage Service) 指南","excerpt":"AWS S3 (Simple Storage Service) 指南","ref":"/docs/s3/","tags":["AWS","教學文件","新手教學","S3","Simple Storage Service"],"title":"S3"},{"body":"dualstack DNS name dualstack DNS 在使用 EC2-Classic (Internet-facing, non-VPC) Elastic Load Balancer. 會回傳 IPv6 及 IPv4 的紀錄，若沒有使用 dualstack 的話，則會回傳 IPv4 的紀錄\nname-1234567890.region.elb.amazonaws.com name-123456789.region.elb.amazonaws.com ipv6.name-123456789.region.elb.amazonaws.com dualstack.name-123456789.region.elb.amazonaws.com EC2-VPC\n Load balancers in a VPC support IPv4 addresses only. […]\n EC2-Classic\n Load balancers in EC2-Classic support both IPv4 and IPv6 addresses. […]\n  The base public DNS name returns only IPv4 records. The public DNS name with the ipv6 prefix returns only IPv6 records. The public DNS name with the dualstack prefix returns both IPv4 and IPv6 records. We recommend that you enable IPv6 support by using the DNS name with the dualstack prefix to ensure that clients can access the load balancer using either IPv4 or IPv6.\n 參考資料  Internet-Facing Classic Load Balancers - Elastic Load Balancing amazon web services - What does the dualstack prefix mean in AWS ELB - Stack Overflow Troubleshoot Your Application Load Balancers - Elastic Load Balancing  ","categories":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","dualstack"],"description":"AWS Load Balancer 負載平衡 dualstack","excerpt":"AWS Load Balancer 負載平衡 dualstack","ref":"/docs/ec2/load-balancer/dualstack/","tags":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","dualstack"],"title":"dualstack"},{"body":"Reserved Instance (RI) 是一個帳單計算方式的商品，而不是真的需要額外去購買 RI 的機器才能使用，而是購買了 RI 的帳單計算方式，在原有的 Instance 的計價可以用購買的 RI 去進行計價。\n購買了 RI 費用雖然低很多，但表示至少需要付 1 年或 3 年的費用，且無法退費，所以當真的有需要長時間使用特定類型的 Instance，再去購買會比較好。\n參考資料  修改Reserved Instance - Amazon Elastic Compute Cloud  ","categories":["AWS","教學文件","新手教學","EC2","Reserved Instance (RI) 保留實例"],"description":"AWS Reserved Instance (RI) 保留實例","excerpt":"AWS Reserved Instance (RI) 保留實例","ref":"/docs/ec2/reserved-instance/","tags":["AWS","教學文件","新手教學","EC2","Reserved Instance (RI) 保留實例"],"title":"Reserved Instance (RI) 保留實例"},{"body":"","categories":["AWS","教學文件","新手教學","ElastiCache"],"description":"AWS ElastiCache 指南","excerpt":"AWS ElastiCache 指南","ref":"/docs/elasticache/","tags":["AWS","教學文件","新手教學","ElastiCache"],"title":"ElastiCache"},{"body":"健康狀態    狀態名稱 描述     initial 初始化   healthy 健康   unhealthy 不健康   unused 未使用   draining 連結耗盡    參考資料  Health Checks for Your Target Groups - Elastic Load Balancing  ","categories":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","Target Group"],"description":"AWS Load Balancer 負載平衡 Target Group","excerpt":"AWS Load Balancer 負載平衡 Target Group","ref":"/docs/ec2/load-balancer/target-group/","tags":["AWS","教學文件","新手教學","EC2","Load Balancer","負載平衡","Target Group"],"title":"Target Group"},{"body":"","categories":["AWS","教學文件","新手教學","EC2","Volume 硬碟"],"description":"AWS Volume 硬碟","excerpt":"AWS Volume 硬碟","ref":"/docs/ec2/volume/","tags":["AWS","教學文件","新手教學","EC2","Volume 硬碟"],"title":"Volume 硬碟"},{"body":"  #td-cover-block-0 { background-image: url(/hugo-background-1_huf4acf6a4bb2fbb2543731e8f7445fcc5_33225_960x540_fill_catmullrom_bottom_2.png); } @media only screen and (min-width: 1200px) { #td-cover-block-0 { background-image: url(/hugo-background-1_huf4acf6a4bb2fbb2543731e8f7445fcc5_33225_1920x1080_fill_catmullrom_bottom_2.png); } }  AWS for newbie AWS 菜雞踩雷學習筆記        記錄學習 AWS 遇到各種不同的系統狀況處理紀錄\n   ","categories":"","description":"","excerpt":"  #td-cover-block-0 { background-image: url(/hugo-background-1_huf4acf6a4bb2fbb2543731e8f7445fcc5_33225_960x540_fill_catmullrom_bottom_2.png); } @media only screen and (min-width: 1200px) { #td-cover-block-0 { background-image: …","ref":"/","tags":"","title":"AWS for newbie"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/access-log/","tags":"","title":"Access Log"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/access-log/","tags":"","title":"Access Log"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/auto-scaling/","tags":"","title":"Auto Scaling"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/auto-scaling/","tags":"","title":"Auto Scaling"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/aws/","tags":"","title":"AWS"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/aws/","tags":"","title":"AWS"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/billing/","tags":"","title":"Billing"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/billing/","tags":"","title":"Billing"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/cli/","tags":"","title":"CLI"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/cli/","tags":"","title":"CLI"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/dualstack/","tags":"","title":"dualstack"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/dualstack/","tags":"","title":"dualstack"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/ec2/","tags":"","title":"EC2"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/ec2/","tags":"","title":"EC2"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/instance/","tags":"","title":"Instance"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/instance/","tags":"","title":"Instance"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/load-balancer/","tags":"","title":"Load Balancer"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/load-balancer/","tags":"","title":"Load Balancer"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/monitoring/","tags":"","title":"Monitoring"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/monitoring/","tags":"","title":"Monitoring"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/rds/","tags":"","title":"RDS"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/rds/","tags":"","title":"RDS"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/relational-database-service/","tags":"","title":"Relational Database Service"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/relational-database-service/","tags":"","title":"Relational Database Service"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/reserved-instance-ri-%E4%BF%9D%E7%95%99%E5%AF%A6%E4%BE%8B/","tags":"","title":"Reserved Instance (RI) 保留實例"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/reserved-instance-ri-%E4%BF%9D%E7%95%99%E5%AF%A6%E4%BE%8B/","tags":"","title":"Reserved Instance (RI) 保留實例"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/rule/","tags":"","title":"Rule"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/rule/","tags":"","title":"Rule"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/ssl/","tags":"","title":"SSL"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/ssl/","tags":"","title":"SSL"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/stickiness/","tags":"","title":"Stickiness"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/stickiness/","tags":"","title":"Stickiness"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/","tags":"","title":"Tags"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/target-group/","tags":"","title":"Target Group"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/target-group/","tags":"","title":"Target Group"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/volume-%E7%A1%AC%E7%A2%9F/","tags":"","title":"Volume 硬碟"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/volume-%E7%A1%AC%E7%A2%9F/","tags":"","title":"Volume 硬碟"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E5%A2%9E%E5%8A%A0-ec2-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/","tags":"","title":"增加 EC2 硬碟空間"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E5%A2%9E%E5%8A%A0-ec2-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/","tags":"","title":"增加 EC2 硬碟空間"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E5%AF%A6%E4%BE%8B/","tags":"","title":"實例"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E5%AF%A6%E4%BE%8B/","tags":"","title":"實例"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E5%AF%A6%E4%BE%8B%E9%99%90%E5%88%B6/","tags":"","title":"實例限制"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E5%AF%A6%E4%BE%8B%E9%99%90%E5%88%B6/","tags":"","title":"實例限制"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E5%B8%B3%E5%96%AE/","tags":"","title":"帳單"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E5%B8%B3%E5%96%AE/","tags":"","title":"帳單"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E5%BB%BA%E7%AB%8B/","tags":"","title":"建立"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E5%BB%BA%E7%AB%8B/","tags":"","title":"建立"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E6%83%85%E5%A2%83%E5%95%8F%E9%A1%8C/","tags":"","title":"情境問題"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E6%83%85%E5%A2%83%E5%95%8F%E9%A1%8C/","tags":"","title":"情境問題"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E6%95%99%E5%AD%B8%E6%96%87%E4%BB%B6/","tags":"","title":"教學文件"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E6%95%99%E5%AD%B8%E6%96%87%E4%BB%B6/","tags":"","title":"教學文件"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E6%96%B0%E6%89%8B%E6%95%99%E5%AD%B8/","tags":"","title":"新手教學"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E6%96%B0%E6%89%8B%E6%95%99%E5%AD%B8/","tags":"","title":"新手教學"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E7%9B%A3%E6%8E%A7/","tags":"","title":"監控"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E7%9B%A3%E6%8E%A7/","tags":"","title":"監控"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E8%87%AA%E5%8B%95%E6%93%B4%E5%B1%95/","tags":"","title":"自動擴展"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E8%87%AA%E5%8B%95%E6%93%B4%E5%B1%95/","tags":"","title":"自動擴展"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E8%A6%8F%E5%89%87/","tags":"","title":"規則"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E8%A6%8F%E5%89%87/","tags":"","title":"規則"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/","tags":"","title":"負載平衡"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/","tags":"","title":"負載平衡"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/arn-policy/","tags":"","title":"ARN Policy"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/arn-policy/","tags":"","title":"ARN Policy"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/elasticache/","tags":"","title":"ElastiCache"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/elasticache/","tags":"","title":"ElastiCache"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/redis/","tags":"","title":"Redis"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/redis/","tags":"","title":"Redis"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/s3/","tags":"","title":"S3"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/s3/","tags":"","title":"S3"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/simple-storage-service/","tags":"","title":"Simple Storage Service"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/simple-storage-service/","tags":"","title":"Simple Storage Service"}]